<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="stylecode.kosta180.mapper.admin"> <!--mapper방식일 때 / namespace를 반드시 -->
	<cache />




	<!--        입점신청 대기중인 쇼핑몰 리스트 뽑기                -->
	<select id="selectedSPM" resultType="Manager_spmVO">
		
 		SELECT  s.spmEnrollNo, spmNm , spmURL, spmTn, spmInfo, SPMCLASSIFCN, spmAges, spmDate, mId, mngLineNo 
		  FROM  spm s, SPMMANAGER m
		 WHERE  s.spmenrollNo = m.spmEnrollNo
		   AND  spmdate IS NULL
		   
<!-- 		   SELECT  s.spmEnrollNo, spmNm , spmURL, spmTn, spmInfo, SPMCLASSIFCN, spmAges, spmDate, mId, mngLineNo
		    FROM  spm INNER JOIN spmmanager m ON spm.spmEnrollNo=m.spmEnrollNo
		   WHERE -->
	</select>
	

	<!-- 입점 승인 해주기 => 쇼핑몰에  spmdata 주기 -->

	<update id="spmAccept" parameterType="int">
		UPDATE spm 
		   SET spmdate=sysdate 
		 WHERE spmEnrollno = #{spmEnrollNo}
	</update>
	
	
	<!-- 입점 거절  => delete : spm정보, spmManager정보 -->
	<delete id="deleteSpm" parameterType="int">
 		DELETE * FROM spm WHERE spmEnrollNo = #{spmEnrollNo};
	</delete>
	<delete id="deleteSpmManager" parameterType="int">
 		DELETE * FROM spmManager WHERE spmEnrollNo = #{spmEnrollNo};
	</delete>
	
    



</mapper>















