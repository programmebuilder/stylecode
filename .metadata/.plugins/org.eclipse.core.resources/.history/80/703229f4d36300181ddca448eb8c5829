package stylecode.kosta180.paging;

public class Paging {
	private int maxPost; //페이지당 표시될 게시물 최대 갯수
	private int firstPageNo;//첫번쨰 페이지 번호
	private int prevPageNo;// 이전 페이지 번호
	private int startPageNo;//시작 페이지
	private int currentPageNo; //현재 페이지 번호
	private int endPageNo;//끝 페이지
	private int nextpageNo;//다음 페이지 번호
	private int finalPageNo;//마지막 페이지 번호
	private int numberOfRecords;//전체 레코드 수 
	private int sizeOfPage;//보여지는 페이짖 갯수
	public Paging(int maxPost, int firstPageNo, int prevPageNo, int startPageNo, int currentPageNo, int endPageNo,
			int nextpageNo, int finalPageNo, int numberOfRecords, int sizeOfPage) {
		super();
		this.maxPost = maxPost;
		this.firstPageNo = firstPageNo;
		this.prevPageNo = prevPageNo;
		this.startPageNo = startPageNo;
		this.currentPageNo = currentPageNo;
		this.endPageNo = endPageNo;
		this.nextpageNo = nextpageNo;
		this.finalPageNo = finalPageNo;
		this.numberOfRecords = numberOfRecords;
		this.sizeOfPage = sizeOfPage;
	}
	public int getMaxPost() {
		return maxPost;
	}
	public void setMaxPost(int maxPost) {
		this.maxPost = maxPost;
	}
	public int getFirstPageNo() {
		return firstPageNo;
	}
	public void setFirstPageNo(int firstPageNo) {
		this.firstPageNo = firstPageNo;
	}
	public int getPrevPageNo() {
		return prevPageNo;
	}
	public void setPrevPageNo(int prevPageNo) {
		this.prevPageNo = prevPageNo;
	}
	public int getStartPageNo() {
		return startPageNo;
	}
	public void setStartPageNo(int startPageNo) {
		this.startPageNo = startPageNo;
	}
	public int getCurrentPageNo() {
		return currentPageNo;
	}
	public void setCurrentPageNo(int currentPageNo) {
		this.currentPageNo = currentPageNo;
	}
	public int getEndPageNo() {
		return endPageNo;
	}
	public void setEndPageNo(int endPageNo) {
		this.endPageNo = endPageNo;
	}
	public int getNextpageNo() {
		return nextpageNo;
	}
	public void setNextpageNo(int nextpageNo) {
		this.nextpageNo = nextpageNo;
	}
	public int getFinalPageNo() {
		return finalPageNo;
	}
	public void setFinalPageNo(int finalPageNo) {
		this.finalPageNo = finalPageNo;
	}
	public int getNumberOfRecords() {
		return numberOfRecords;
	}
	public void setNumberOfRecords(int numberOfRecords) {
		this.numberOfRecords = numberOfRecords;
	}
	public int getSizeOfPage() {
		return sizeOfPage;
	}
	public void setSizeOfPage(int sizeOfPage) {
		this.sizeOfPage = sizeOfPage;
	}

	public void makePaging(){
		if(numberOfRecords==0)
			return ;
		if(currentPageNo==0)
			setCurrentPageNo(1);
		if(maxPost==0)
			setMaxPost(10);
		int finalPage=(numberOfRecords+(maxPost-1))/maxPost;
		if(currentPageNo>finalPage)
			setCurrentPageNo(finalPage);
		if(currentPageNo<0)
			currentPageNo=1;
		boolean isNowFirst=currentPageNo==1? true:false;
		boolean isNowFinal=currentPageNo==finalPage? true:false;
		
		int startPage=((currentPageNo-1)/sizeOfPage)*sizeOfPage+1;
		int endPage=startPage+sizeOfPage-1;
		if(endPage>finalPage){
			endPage=finalPage;
		}
		setFirstPageNo(1);
		if(!isNowFirst)
			setPrevPageNo(((startPage-1)<1?1:(startPage-1)));
		setStartPageNo(startPage);
		setEndPageNo(endPage);
		if(!isNowFinal)
			setNextpageNo(((endPage+1)>finalPage?finalPage:(endPage+1)));
		setFinalPageNo(finalPage);
	}
}
