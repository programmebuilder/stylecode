/*$(function(){
    $(window).scroll(function(){
       if($(this).scrollTop()!=0){
           $('footer').fadeIn();
           
       } else{
           $('footer').fadeOut();
       }
    });
    
    $('footer').click(function(){
        $('body,html').animate({scrollTop:0},800);
    });
    
});*/

$(function() {
	
	// 텍스트에어리어 확장
	var comfyText = (function() {
		var tag = document.querySelectorAll('textarea')
		for (var i = 0; i < tag.length; i++) {
			tag[i].addEventListener('paste', autoExpand)
			tag[i].addEventListener('input', autoExpand)
			tag[i].addEventListener('keyup', autoExpand)
		}
		function autoExpand(e, el) {
			var el = el || e.target
			el.style.height = 'inherit'
			el.style.height = el.scrollHeight + 'px'
		}
		window.addEventListener('load', expandAll)
		window.addEventListener('resize', expandAll)
		function expandAll() {
			var tag = document.querySelectorAll('textarea')
			for (var i = 0; i < tag.length; i++) {
				autoExpand(e, tag[i])
			}
		}
	})()
	
})

$(document).ready(() => {
	let $button = $('button[type="submit"]');
	
	$button.on('click', function() {
		var $this = $(this);
		if($this.hasClass('active') || $this.hasClass('success')) {
			return false;
		}
		$this.addClass('active');
		setTimeout(()=> {
			$this.addClass('loader');
		}, 125);
		setTimeout(()=> {
			$this.removeClass('loader active');
			$this.text('Success');
			$this.addClass('success animated pulse');
		}, 1600);
		setTimeout(()=> {
			$this.text('Go');
			$this.removeClass('success animated pulse');
			$this.blur();
		}, 2900);
	});
});
